<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://activiti.com/modeler" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/processdef" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd" modeler:version="1.0en" modeler:exportDateTime="20150216104339475" modeler:modelId="933057" modeler:modelVersion="3" modeler:modelLastUpdated="1424083415708" exporter="camunda modeler" exporterVersion="2.7.0">
  <process id="annualReview" name="Enterprise Review Process" isExecutable="true">
    <exclusiveGateway id="RevieweerReviewsInputExclusiveGateway" name="Review Accepted?"></exclusiveGateway>
    <sequenceFlow id="SequenceFlow_9" name="No" sourceRef="RevieweerReviewsInputExclusiveGateway" targetRef="CompleteSelfReviewUserTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${RESULT == "FAILURE"}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="CompleteSelfReviewUserTask" name="Complete Self Review" activiti:assignee="${Reviewee}"></userTask>
    <sequenceFlow id="SequenceFlow_6" sourceRef="CompleteSelfReviewUserTask" targetRef="ReviewerReviewsInputUserTask"></sequenceFlow>
    <exclusiveGateway id="ExclusiveGateway_2" default="SequenceFlow_15"></exclusiveGateway>
    <sequenceFlow id="SequenceFlow_14" name="yes" sourceRef="ExclusiveGateway_2" targetRef="End">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${RESULT == "SUCCESS"}]]></conditionExpression>
    </sequenceFlow>
    <endEvent id="End" name="End"></endEvent>
    <sequenceFlow id="SequenceFlow_15" name="No" sourceRef="ExclusiveGateway_2" targetRef="CompleteSelfReviewUserTask"></sequenceFlow>
    <sequenceFlow id="SequenceFlow_19" name="yes" sourceRef="RevieweerReviewsInputExclusiveGateway" targetRef="UserTask_3">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${RESULT == "SUCCESS"}]]></conditionExpression>
    </sequenceFlow>
    <userTask id="FinalReview" name="Final Review" activiti:assignee="${Reviewer}"></userTask>
    <sequenceFlow id="SequenceFlow_12" sourceRef="FinalReview" targetRef="ExclusiveGateway_2"></sequenceFlow>
    <userTask id="UserTask_3" name="Joint Review (Reviewer)" activiti:assignee="${Reviewer}"></userTask>
    <sequenceFlow id="SequenceFlow_22" sourceRef="UserTask_3" targetRef="FinalReview"></sequenceFlow>
    <startEvent id="anualReviewStart" name="Start"></startEvent>
    <sequenceFlow id="SequenceFlow_13" sourceRef="anualReviewStart" targetRef="startProcessEmailServiceTask"></sequenceFlow>
    <userTask id="ReviewerReviewsInputUserTask" name="Reviewer Reviews counselee input" activiti:assignee="${Reviewer}"></userTask>
    <sequenceFlow id="SequenceFlow_8" sourceRef="ReviewerReviewsInputUserTask" targetRef="ReviewersAcceptExclusiveGateway"></sequenceFlow>
    <userTask id="DirectorsReview" name="Directors Review" activiti:assignee="${Director}"></userTask>
    <sequenceFlow id="SequenceFlow_1" sourceRef="DirectorsReview" targetRef="RevieweerReviewsInputExclusiveGateway"></sequenceFlow>
    <exclusiveGateway id="ReviewersAcceptExclusiveGateway" name="Reviewers Accept?"></exclusiveGateway>
    <sequenceFlow id="ReviewersRejectFlow" name="No" sourceRef="ReviewersAcceptExclusiveGateway" targetRef="CompleteSelfReviewUserTask">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${RESULT == "FAILURE"}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="ReviewersAcceptFlow" name="Yes" sourceRef="ReviewersAcceptExclusiveGateway" targetRef="DirectorsReview">
      <conditionExpression xsi:type="tFormalExpression"><![CDATA[${RESULT == "SUCCESS"}]]></conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="flow1" sourceRef="startProcessEmailServiceTask" targetRef="CompleteSelfReviewUserTask"></sequenceFlow>
    <serviceTask id="startProcessEmailServiceTask" name="Start Process Mail" activiti:expression="${mailService.sendAnnualProcessStartedEmail()}"></serviceTask>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_annualReview">
    <bpmndi:BPMNPlane bpmnElement="annualReview" id="BPMNPlane_annualReview">
      <bpmndi:BPMNShape bpmnElement="RevieweerReviewsInputExclusiveGateway" id="BPMNShape_RevieweerReviewsInputExclusiveGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="811.0" y="210.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="CompleteSelfReviewUserTask" id="BPMNShape_CompleteSelfReviewUserTask">
        <omgdc:Bounds height="80.0" width="186.0" x="216.0" y="191.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="ExclusiveGateway_2" id="BPMNShape_ExclusiveGateway_2">
        <omgdc:Bounds height="40.0" width="40.0" x="971.0" y="524.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="End" id="BPMNShape_End">
        <omgdc:Bounds height="35.0" width="35.0" x="977.0" y="624.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="FinalReview" id="BPMNShape_FinalReview">
        <omgdc:Bounds height="86.0" width="181.0" x="924.0" y="360.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="UserTask_3" id="BPMNShape_UserTask_3">
        <omgdc:Bounds height="86.0" width="181.0" x="924.0" y="188.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="anualReviewStart" id="BPMNShape_anualReviewStart">
        <omgdc:Bounds height="35.0" width="35.0" x="39.0" y="210.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="ReviewerReviewsInputUserTask" id="BPMNShape_ReviewerReviewsInputUserTask">
        <omgdc:Bounds height="86.0" width="181.0" x="443.0" y="188.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="DirectorsReview" id="BPMNShape_DirectorsReview">
        <omgdc:Bounds height="86.0" width="181.0" x="521.0" y="318.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="ReviewersAcceptExclusiveGateway" id="BPMNShape_ReviewersAcceptExclusiveGateway">
        <omgdc:Bounds height="40.0" width="40.0" x="684.0" y="210.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="startProcessEmailServiceTask" id="BPMNShape_startProcessEmailServiceTask">
        <omgdc:Bounds height="55.0" width="105.0" x="90.0" y="318.0"></omgdc:Bounds>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_9" id="BPMNEdge_SequenceFlow_9">
        <omgdi:waypoint x="831.0" y="210.0"></omgdi:waypoint>
        <omgdi:waypoint x="831.0" y="128.0"></omgdi:waypoint>
        <omgdi:waypoint x="309.0" y="128.0"></omgdi:waypoint>
        <omgdi:waypoint x="309.0" y="191.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="13.0" width="14.0" x="649.0" y="128.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_6" id="BPMNEdge_SequenceFlow_6">
        <omgdi:waypoint x="402.0" y="231.0"></omgdi:waypoint>
        <omgdi:waypoint x="443.0" y="231.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_14" id="BPMNEdge_SequenceFlow_14">
        <omgdi:waypoint x="991.0" y="564.0"></omgdi:waypoint>
        <omgdi:waypoint x="994.0" y="624.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="13.0" width="18.0" x="980.0" y="589.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_15" id="BPMNEdge_SequenceFlow_15">
        <omgdi:waypoint x="971.0" y="544.0"></omgdi:waypoint>
        <omgdi:waypoint x="687.0" y="544.0"></omgdi:waypoint>
        <omgdi:waypoint x="308.0" y="544.0"></omgdi:waypoint>
        <omgdi:waypoint x="309.0" y="271.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="52.0" width="6.0" x="527.0" y="544.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_19" id="BPMNEdge_SequenceFlow_19">
        <omgdi:waypoint x="851.0" y="230.0"></omgdi:waypoint>
        <omgdi:waypoint x="887.0" y="230.0"></omgdi:waypoint>
        <omgdi:waypoint x="887.0" y="231.0"></omgdi:waypoint>
        <omgdi:waypoint x="924.0" y="231.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="13.0" width="18.0" x="865.0" y="230.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_12" id="BPMNEdge_SequenceFlow_12">
        <omgdi:waypoint x="1014.0" y="446.0"></omgdi:waypoint>
        <omgdi:waypoint x="1014.0" y="485.0"></omgdi:waypoint>
        <omgdi:waypoint x="991.0" y="485.0"></omgdi:waypoint>
        <omgdi:waypoint x="991.0" y="524.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_22" id="BPMNEdge_SequenceFlow_22">
        <omgdi:waypoint x="1014.0" y="274.0"></omgdi:waypoint>
        <omgdi:waypoint x="1014.0" y="360.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_13" id="BPMNEdge_SequenceFlow_13">
        <omgdi:waypoint x="74.0" y="227.0"></omgdi:waypoint>
        <omgdi:waypoint x="128.0" y="225.0"></omgdi:waypoint>
        <omgdi:waypoint x="128.0" y="231.0"></omgdi:waypoint>
        <omgdi:waypoint x="142.0" y="318.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_8" id="BPMNEdge_SequenceFlow_8">
        <omgdi:waypoint x="624.0" y="231.0"></omgdi:waypoint>
        <omgdi:waypoint x="654.0" y="231.0"></omgdi:waypoint>
        <omgdi:waypoint x="654.0" y="230.0"></omgdi:waypoint>
        <omgdi:waypoint x="684.0" y="230.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="SequenceFlow_1" id="BPMNEdge_SequenceFlow_1">
        <omgdi:waypoint x="702.0" y="361.0"></omgdi:waypoint>
        <omgdi:waypoint x="779.0" y="361.0"></omgdi:waypoint>
        <omgdi:waypoint x="779.0" y="230.0"></omgdi:waypoint>
        <omgdi:waypoint x="811.0" y="230.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="ReviewersRejectFlow" id="BPMNEdge_ReviewersRejectFlow">
        <omgdi:waypoint x="704.0" y="210.0"></omgdi:waypoint>
        <omgdi:waypoint x="703.0" y="151.0"></omgdi:waypoint>
        <omgdi:waypoint x="547.0" y="151.0"></omgdi:waypoint>
        <omgdi:waypoint x="309.0" y="151.0"></omgdi:waypoint>
        <omgdi:waypoint x="309.0" y="191.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="52.0" width="6.0" x="617.0" y="151.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="ReviewersAcceptFlow" id="BPMNEdge_ReviewersAcceptFlow">
        <omgdi:waypoint x="704.0" y="250.0"></omgdi:waypoint>
        <omgdi:waypoint x="704.0" y="284.0"></omgdi:waypoint>
        <omgdi:waypoint x="611.0" y="284.0"></omgdi:waypoint>
        <omgdi:waypoint x="611.0" y="318.0"></omgdi:waypoint>
        <bpmndi:BPMNLabel>
          <omgdc:Bounds height="13.0" width="19.0" x="704.0" y="250.0"></omgdc:Bounds>
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="flow1" id="BPMNEdge_flow1">
        <omgdi:waypoint x="142.0" y="318.0"></omgdi:waypoint>
        <omgdi:waypoint x="309.0" y="271.0"></omgdi:waypoint>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>