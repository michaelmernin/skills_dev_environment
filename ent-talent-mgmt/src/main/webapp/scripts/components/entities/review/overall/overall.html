<div ng-cloak>
  <md-list>
    <div>
      <md-list-item ng-click="toggle = !toggle;">
        <div class="md-list-item-text" flex>
          <span class="md-title">Composite Scores</span>
        </div>
        <i class="fa fa-lg {{toggle ? 'fa-chevron-down' : 'fa-chevron-left'}}"></i>
      </md-list-item>
      <md-list-item ng-if="toggle" class="md-2-line">
      	<div layout="column" >
		  <md-whiteframe class="md-whiteframe-z1 core" style="margin-bottom: 15px;"> 
		    <span style="display: inline-table;"><span class="header">Overall Average</span><span style="margin-right: 15px;">{{getOverall('reviewee')}}</span><span style="margin-right: 15px;">{{getOverall('reviewer')}}</span></span>
		  </md-whiteframe>
		   <md-whiteframe class="md-whiteframe-z1 core" style="margin-bottom: 15px;">
		    <span style="display: inline-table;"><span class="header">Core Competencies</span><span style="margin-right: 15px;">{{getCoreAvgScore('reviewee')}}</span><span style="margin-right: 15px;">{{getCoreAvgScore('reviewer')}}</span></span>
		  </md-whiteframe>
		   <md-whiteframe class="md-whiteframe-z1 core" style="margin-bottom: 15px;">
		    <span style="display: inline-table"><span class="header">Internal Contributions</span><span style="margin-right: 15px;">{{getInternalAvgScore('reviewee')}}</span><span style="margin-right: 15px;">{{getInternalAvgScore('reviewer')}}</span></span>
		  </md-whiteframe>
		</div>
        <div class="md-list-item-text .md-whiteframe-z1">
          <h5>{{ question.title ? question.title : question.text | limitTo:titleLimit() }}</h5>
          <p>
            <span class="score" ng-if="question.ratings.reviewee.score">
              <i class="fa fa-comment-o"></i>
              Self Rating: {{ getScore(question.ratings.reviewee) }}
            </span>
            <span class="score" ng-if="question.ratings.reviewer.score">
              <i class="fa fa-comment-o"></i>
              Reviewer Rating: {{ getScore(question.ratings.reviewer) }}
            </span>
            <span class="score" ng-if="getAvgScore(question.ratings.peer)">
              <i class="fa fa-comments-o"></i>
              Average Peer Rating: {{ getAvgScore(question.ratings.peer) }}
            </span>
          </p>
        </div>
      </md-list-item>
    </div>
  </md-list>
  <div>
    <md-list>
      <md-list-item  ng-click="viewFeedback(reviewerFeedback,'reviewer' , $event)">
        <div layout="column" layout-align="start center" layout-margin >
          <md-icon md-font-icon="fa fa-user fa-4x" class="md-primary fa fa-user fa-4x" style="height: auto;"
                   aria-hidden="true" layout-margin>
          </md-icon>
          <md-tooltip md-direction="bottom">
            {{reviewerFeedback.author.firstName}} {{reviewerFeedback.author.lastName}}
          </md-tooltip>
          <p>{{reviewerFeedback.author.firstName}}</p>
        </div>
        <div layout-align="start center" flex="90">
          <p style="line-height: 1.5em;" > {{reviewerFeedback.overallComment}}</p>
         <md-icon md-font-icon="fa fa-edit fa-lg" class="md-secondary" aria-label="Edit"></md-icon> 
        </div>
      </md-list-item>
      <md-list-item  ng-click="viewFeedback(revieweeFeedback,'reviewee', $event)">
        <div layout="column" layout-align="start center" layout-margin >
          <md-icon md-font-icon="fa fa-user fa-lg" class="md-primary fa fa-user fa-4x" style="height: auto;"
                   aria-hidden="true" layout-margin>
          </md-icon>
          <md-tooltip md-direction="bottom">
            {{revieweeFeedback.author.firstName}} {{revieweeFeedback.author.lastName}}
          </md-tooltip>
          <p>{{revieweeFeedback.author.firstName}}</p>
        </div>
        <div layout-align="start center" flex="90">
          <p style="line-height: 1.5em;" > {{revieweeFeedback.overallComment}}</p>
         <md-icon md-font-icon="fa fa-edit fa-lg" class="md-secondary" aria-label="Edit"></md-icon> 
        </div>
      </md-list-item>
    </md-list>
  </div>
</div>



